<div class="app-content content">
  <div class="content-wrapper">
    <div class="content-wrapper-before"></div>
    <div class="content-header row">
      <div class="content-header-left col-md-4 col-12 mb-2">
        <h3 class="content-header-title">Cart - Rs. {{amount}}</h3>
      </div>
      <div class="content-header-right col-md-8 col-12">
        <div class="breadcrumbs-top float-md-right">
          <div class="breadcrumb-wrapper mr-1">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Home</a>
              </li>
              <li class="breadcrumb-item active"> Cart
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="DDModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Upload DD - Rs. {{amount}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <input #imageInput placeholder="Select an Image" type="file" accept="image/*" (change)="processFile($event)">
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <div class="content-body">
      <section id="content-types">
        <div class="row match-height justify-content-md-center">
          <div class="col-xl-6 col-md-12">
          </div>
        </div>
      </section>
      <div class="row">
        <div class="col-12">
          <div class="card  bg-gradient-x-blue">
            <div class="card-header">
              <span class="card-title white h4">
                Heres what you added to your Tech Show!
              </span>
              <span class="float-right" *ngIf="hasWorkshops || hasEvents" style="margin:2px">
                <button *ngIf="!isCartConfirmed" class="btn btn-bg-gradient-x-blue-green border-white border-2" (click)="confirmCart()">Confirm
                  Cart</button>
              </span>
              <div class="col-12">
                <span *ngIf="isCartConfirmed && !paymentSent" class="float-right">
                  <div class="col-6">
                    <button class="btn btn-bg-gradient-x-blue-green border-white border-2">Pay Online</button>
                  </div>
                  <div class="col-6">
                    <button class="btn btn-bg-gradient-x-blue-cyan border-white border-2" data-toggle="modal"
                      data-target="#DDModal">Pay
                      through Demand Draft</button>
                  </div>
                </span>
              </div>

              <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
              <div class="heading-elements">
                <ul class="list-inline mb-0">
                </ul>
              </div>
              <div class="card-body">
                <h3 class="white">Workshops</h3>
                <br />
                <div *ngIf="!hasWorkshops">
                  <h5 class="white">You have no workshop registrations. Register in one of our workshops!!!</h5>
                </div>
                <div *ngIf="hasWorkshops">
                  <div class="row">
                    <div *ngFor="let workshop of workshops">
                      <div class="col-12">
                        <div class="card pull-up">
                          <div class="card-header">
                            <div class="h4">{{workshop.event_id.title}}</div>
                          </div>
                          <div class="card-body">
                            <h5 class="card-title">What you need to know</h5>
                            <div class="row">
                              <div class="col-6">
                                Date : {{workshop.event_id.event_date}}
                              </div>
                              <div class="col-6">
                                Venue : {{workshop.event_id.venue}}
                              </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                Contact : <a href="mailto://{{workshop.event_id.contact_email}}">{{workshop.event_id.contact_email}}</a>
                              </div>
                            </div>
                            <span [ngClass]="{'danger': workshop.satus != 'Confirmed'}">
                              {{workshop.status}}
                            </span>
                            <button *ngIf="!isCartConfirmed" class="btn btn-bg-gradient-x-red-pink float-right" (click)="cancelWorkshopRegistration(workshop._id)">
                              Remove from Cart
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <h3 class="white">Events</h3>

                <div *ngIf="!hasEvents">
                  <h5 class="white">You have no Event registrations. Register in one of our Events!!!</h5>
                </div>
                <div *ngIf="hasEvents">
                  <div class="col-md-4 col-lg-4 col-xl-4" *ngFor="let event of events">
                    <div class="card pull-up">
                      <h5 class="card-header">{{event.event_id.title}}</h5>
                      <div class="card-body">
                        <h5 class="card-title">What you need to know</h5>
                        <br />
                        <div class="row">
                          <div class="col-6">
                            Date : {{event.event_id.event_date}}
                          </div>
                          <div class="col-6">
                            Venue : {{event.event_id.venue}}
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            Contact : <a href="mailto://{{event.event_id.contact_email}}">{{event.event_id.contact_email}}</a>
                          </div>
                        </div>
                        <br />
                        <span [ngClass]="{'danger': event.status != 'Confirmed'}">
                          {{event.status}}
                        </span>
                        <button *ngIf="!isCartConfirmed" class="btn  btn-bg-gradient-x-red-pink float-right" (click)="cancelEventRegistration(event._id)">
                          Remove from Cart
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>